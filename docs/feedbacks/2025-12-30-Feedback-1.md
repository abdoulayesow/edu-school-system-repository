# Feedback and Improvements needed for New Enrollement: 

## In the step 2 (student information)
- the selection color (in light mode) for the grade info in this mode doesn't match the mode, it should be yellow ish instead instead of red: <div class="mb-6 p-3 bg-muted/50 rounded-lg border"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap h-4 w-4 text-primary"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"></path><path d="M22 10v6"></path><path d="M6 12.5V16a6 3 0 0 0 12 0v-3.5"></path></svg><span class="text-sm font-medium">8ème Année</span><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 font-medium w-fit whitespace-nowrap shrink-0 [&amp;&gt;svg]:size-3 gap-1 [&amp;&gt;svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden text-foreground [a&amp;]:hover:bg-accent [a&amp;]:hover:text-accent-foreground text-xs">Collège</span></div><span class="text-sm text-muted-foreground font-mono">1 025 000&nbsp;FG</span></div></div>
- All date inputs in french should show as "DD/MM/YYYY" and not "MM/DD/YYYY" as it is currently : <input data-slot="input" class="file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-amber-500/50 focus-visible:ring-amber-500/30 focus-visible:ring-[3px] dark:focus-visible:border-amber-400/50 dark:focus-visible:ring-amber-400/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive" id="dateOfBirth" required="" type="date" value="">
- Extend the width of the gender dropdown (similar to the email's)
- The phone is showing red (while having "+224 "), it should only be red if the user start adding more number and doesn't complete. 
- Update the empty space in the Father and mother information div (there is too much space between the top border and the first text in the div): <div data-slot="card" class="flex flex-col gap-6 rounded-xl border py-6 shadow-sm transition-all duration-200 bg-card text-card-foreground"><div data-slot="card-content" class="px-6 pt-4"><h5 class="text-sm font-medium mb-3">Informations du père</h5><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="space-y-2"><label data-slot="label" class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50" for="fatherName">Nom du père</label><input data-slot="input" class="file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-amber-500/50 focus-visible:ring-amber-500/30 focus-visible:ring-[3px] dark:focus-visible:border-amber-400/50 dark:focus-visible:ring-amber-400/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive" id="fatherName" value=""></div><div class="space-y-2"><label data-slot="label" class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50" for="fatherPhone">Téléphone du père</label><input data-slot="input" class="file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-amber-500/50 focus-visible:ring-amber-500/30 focus-visible:ring-[3px] dark:focus-visible:border-amber-400/50 dark:focus-visible:ring-amber-400/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive" id="fatherPhone" placeholder="+224 XXX XX XX XX" type="tel" value="+224 "></div><div class="space-y-2"><label data-slot="label" class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50" for="fatherEmail">Email du père</label><input data-slot="input" class="file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-amber-500/50 focus-visible:ring-amber-500/30 focus-visible:ring-[3px] dark:focus-visible:border-amber-400/50 dark:focus-visible:ring-amber-400/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive" id="fatherEmail" type="email" value=""></div></div></div></div>

- When i click on save without updating the mother phone, I'm getting an error: C:\workspace\sources\edu-school-system-repository\node_modules\next\dist\server\lib\start-server.js: Invalid source map. Only conformant source maps can be used to find the original code. Cause: Error: sourceMapURL could not be parsed
Error creating enrollment: Error [PrismaClientValidationError]:
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$app$2f$db$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].enrollment.create()` invocation in
C:\workspace\sources\edu-school-system-repository\app\ui\.next\dev\server\chunks\[root-of-the-server]__cc5991da._.js:934:173

  931     motherPhone: validated.motherPhone,
  932     address: validated.address
  933 };
→ 934 const enrollment = await __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$db$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].enrollment.create({
        data: {
          enrollmentNumber: "ENR-2025-08-00142",
          schoolYearId: "cmjov1hlk000e50u8jdj9f9by",
          gradeId: "cmjov1j5n000m50u8z8nxj0jq",
          firstName: "Issaga",
          middleName: "Binta",
          ~~~~~~~~~~
          lastName: "Camara",
          dateOfBirth: new Date("2015-01-30T00:00:00.000Z"),
          email: "aishanadhel@gmail.com",
          fatherEmail: "saliou.camara@gmail.com",
          motherEmail: null,
          isReturningStudent: false,
          originalTuitionFee: 1025000,
          status: "draft",
          currentStep: 2,
          draftExpiresAt: new Date("2026-01-09T22:41:24.599Z"),
          createdBy: "cmjiq64oi00003ou8j5rq9jtb",
          studentId: undefined,
          gender: "female",
          phone: "+224",
          photoUrl: undefined,
          birthCertificateUrl: undefined,
          fatherName: "Saliou Camara",
          fatherPhone: "+224 627 97 09 36",
          motherName: undefined,
          motherPhone: "+224",
          address: undefined,
      ?   id?: String,
      ?   adjustedTuitionFee?: Int | Null,
      ?   adjustmentReason?: String | Null,
      ?   submittedAt?: DateTime | Null,
      ?   approvedAt?: DateTime | Null,
      ?   approvedBy?: String | Null,
      ?   autoApproveAt?: DateTime | Null,
      ?   statusComment?: String | Null,
      ?   statusChangedAt?: DateTime | Null,
      ?   statusChangedBy?: String | Null,
      ?   syncVersion?: Int,
      ?   createdAt?: DateTime,
      ?   updatedAt?: DateTime,
      ?   paymentSchedules?: PaymentScheduleUncheckedCreateNestedManyWithoutEnrollmentInput,
      ?   payments?: PaymentUncheckedCreateNestedManyWithoutEnrollmentInput,
      ?   notes?: EnrollmentNoteUncheckedCreateNestedManyWithoutEnrollmentInput
        },
        include: {
          grade: true,
          schoolYear: true
        }
      })

Unknown argument `middleName`. Available options are marked with ?.
    at <unknown> (C:\workspace\sources\edu-school-system-repository\app\ui\.next\dev\server\chunks\[root-of-the-server]__cc5991da._.js:934:173)
    at async POST (C:\workspace\sources\edu-school-system-repository\app\ui\.next\dev\server\chunks\[root-of-the-server]__cc5991da._.js:934:28) {
  clientVersion: '7.2.0'
}
 POST /api/enrollments 500 in 1176ms (compile: 5ms, render: 1171ms)

 ## STEP 4 - Payment 
- when the user is submitting the payment, the generated receipt number is not unique (I need you to come with a good way to insure a unique geenrated number) and the number is not stored in database (it doesn't show in the Review Step and in the generated PDF).
7- I added a payment amount of 100000 and it was not save in database, it's not coming up for in the next Step (Review) nor in the PDF generated. I think you need to look into the payment feature (view the notes below)

## GENERATE PDF
- In generated pdf, make sure to use the same exact letter head as the one used in the template pdf (see the image): 

# Request
Address these concerns above. 

# NOTES
Here is the description of the payment/accounting features we were supposely implemented few days ago for context - Look for it in the docs/summaries/